<!-- *ngIf="isAuth(_packagePermissions.AssignPackageToUser)" -->
@if (isAuth(couponPermissions.AssignToProduct)) {
  <div class="container">
    <p-toast position="top-right" key="tl"></p-toast>
    <p-card class="">
      <div class="Body">
        <div class="row">
          <div class="col-md-12">
            <div class="form-group">
              <!-- <app-pick-list-component [filter]="true" [showClear]="false" [filterBy]="'name'" [label]="'Users'"
            [options]="Users" [size]="'small'" [(ngModel)]="selectedUser"></app-pick-list-component> -->
            <app-pick-list-multi-select [filter]="true" [showClear]="false" [filterBy]="'name'" [label]="'Products'"
            [(ngModel)]="selectedPackages" [options]="Packages" [size]="'small'"></app-pick-list-multi-select>
          </div>
        </div>
      </div>
      <div class="row">
        @if (selectedPackages.length>0) {
          <div class="table-responsive">
            @if (selectedPackages.length>0) {
              <p-table [value]="selectedPackages"
                tableStyleClass="table align-middle table-row-dashed fs-6 gy-5">
                <ng-template pTemplate="header">
                  <tr class="text-start text-muted fw-bolder fs-7 text-uppercase gs-0">
                    <th class="min-w-125px"># </th>
                    <th pSortableColumn="name" class="min-w-125px">Packages <p-sortIcon field="name"></p-sortIcon></th>
                    <th class=" min-w-100px">Actions </th>
                  </tr>
                </ng-template>
                <ng-template pTemplate="body" let-rowIndex="rowIndex" let-item class="text-gray-600 fw-bold">
                  <tr>
                    <td>{{rowIndex+1}}</td>
                    <td>{{item.name}}</td>
                    <td class="">
                      <button class="bg-danger mx-2 btn-delete" (click)="deleteItem(item)">
                        <i class="fa fa-trash "></i>
                      </button>
                    </td>
                  </tr>
                </ng-template>
              </p-table>
            }
          </div>
        }
      </div>
    </div>
    <ng-template pTemplate="footer">
      <button pButton type="button" label="Save" class="btn btn-light-primary" (click)="submit()"></button>&nbsp;
      <button pButton type="button" label="cancel" class="btn btn-primary" (click)="cancel()"></button>
    </ng-template>
  </p-card>
</div>
}